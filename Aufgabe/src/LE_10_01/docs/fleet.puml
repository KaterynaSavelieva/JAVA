@startuml
skinparam classAttributeIconSize 0

enum VehicleType {
  CAR
  TRUCK
  MOTORCYCLE
}

enum EnergyType {
  PETROL
  DIESEL
  ELECTRIC
  HYBRID
}

enum EnergyUnit {
  LITER
  KWH
}

enum LicenseCode {
  A
  B
  C
  BE
  CE
}


package LE_10_01_app {

  class App {
    +main(args : String[]) : void
  }

  class ConsoleUi {
    -scanner : Scanner
    -management : FleetManagement
    +run() : void
  }

  class MenuPrinter {
    +printHeader() : void
    +printMenu() : void
  }

  class InputHelper {
    +readInt(scanner, msg, min, max) : int
    +readPositiveInt(scanner, msg) : int
    +readNotBlank(scanner, msg) : String
    +readEmail(scanner, msg) : String
    +readOptional(scanner, msg) : String
    +readEnum(scanner, msg, allowed) : String
    +readIntRange(scanner, msg, min, max) : int
    +readNonNegativeInt(scanner, msg) : int
    +readNonNegativeDouble(scanner, msg) : double
    +readDate(scanner, msg) : LocalDate
    +pressEnter(scanner) : void
  }

  App --> ConsoleUi : starts
  ConsoleUi --> MenuPrinter
  ConsoleUi --> InputHelper
  ConsoleUi --> FleetManagement
}


package LE_10_01_management {

  class FleetManagement {
    +showAllVehicles()
    +showVehiclesWithDetails()
    +showCurrentDriverPerVehicle()
    +showHistoryDriverPerVehicle()
    +showAllEmployees()
    +insertNewEmployee(scanner)
    +insertNewVehicle(scanner)
    +assignDriverToVehicle(scanner)
    +unassignDriverFromVehicle(scanner)
  }
}


package LE_10_01_db_dao {

  class VehicleDao
  class EmployeeDao
  class AssignmentDao
}

FleetManagement --> VehicleDao
FleetManagement --> EmployeeDao
FleetManagement --> AssignmentDao


package LE_10_01_model_person {

  class Person {
    -personId : int
    -name : String
    -email : String
    -phone : String
    -birthdate : LocalDate
  }

  class Employee {
    -employeeId : int
    -licenses : Set<LicenseCode>
    +addLicense(code : LicenseCode)
    +removeLicense(code : LicenseCode)
  }

  Person <|-- Employee
}


package LE_10_01_model_license {

  class License {
    -code : LicenseCode
    -description : String
  }
}

Employee "0..*" -- "0..*" License : has

package LE_10_01_model_vehicle {

  abstract class Vehicle {
    -vehicleId : int
    -vehicleType : VehicleType
    -licensePlate : String
    -brand : String
    -productionYear : int
    -energyType : EnergyType
    -energyUnit : EnergyUnit
    -energyConsumption : double
    -mileage : int
    -energyLevel : double
    +drive(km : int)
    +refuelOrCharge(amount : double)
  }

  class Car {
    -numberOfSeats : int
  }

  class Truck {
    -maxLoadKg : double
  }

  class Motorcycle {
    -engineCapacityCcm : int
  }

  Vehicle <|-- Car
  Vehicle <|-- Truck
  Vehicle <|-- Motorcycle
}


package LE_10_01_model_assignment {

  class VehicleDriverAssignment {
    -assignedFrom : LocalDate
    -assignedTo : LocalDate
    +isCurrent() : boolean
    +close(endDate : LocalDate)
  }
}

VehicleDriverAssignment --> Vehicle
VehicleDriverAssignment --> Employee

@enduml
